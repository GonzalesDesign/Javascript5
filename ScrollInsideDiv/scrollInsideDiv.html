<!DOCTYPE html>
<html>
<head lang = "en">
    <meta charset = "UTF-8">
    <title>Scroll Inside Div</title>
    <meta name = "viewport" content = "width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel = "stylesheet" href = "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link href = "http://fonts.googleapis.com/css?family=Ubuntu+Condensed|Open+Sans:400,300|Raleway|Cinzel"
          rel = "stylesheet" type = "text/css">
    <style>
      body{
        margin-top: 100px;
        height: 700px;
      }
      .container-outer { overflow:hidden; width: 100%; height: 400px; border: solid 4px red}
      .container-inner { width: 10000px; border: solid 1px black}
    </style>

</head>
<body>

<div class="container-outer" id="mainWrapper">
  <div class="container-inner" id="insideWrapper">
    <a href="images/white.jpg"><img src="images/white.jpg" height="=100" id="img1" /></a>
    <a href="images/black.jpg"><img src="images/black.jpg" height="100" id="img2" /></a>
    <a href="images/red.jpg"><img src="images/red.jpg" height="100%" id="img3" /></a>
    <a href="images/blue.jpg"><img src="images/blue.jpg" height="400" id="img4" /></a>
    <a href="images/yellow.jpg"><img src="images/yellow.jpg" height="400" id="img5" /></a>
    <a href="images/orange.jpg"><img src="images/orange.jpg" height="400" id="img6" /></a>
  </div>
</div>

<script src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src = "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

<!--=====| GSAP TweenMax and PlugIns: Nov 23, 2015 |=====-->
<!--<script src = "http://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"></script>-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/TweenMax.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/plugins/ScrollToPlugin.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/plugins/ColorPropsPlugin.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/plugins/CSSRulePlugin.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/plugins/EaselPlugin.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/plugins/TextPlugin.min.js"></script>

<!--<script src = "js/smoothscroll.js"></script>-->
<script>
  /*$(document).ready(function() {*/
  (function () {
    'use strict';
    var container_width = 700 * $(".container-inner a").length;
    console.log("container_width: ",container_width);
    $(".container-inner").css({"width": container_width, "height": "590px"});

    var insideWrapper = $("#insideWrapper");
     console.log("insideWrapper: " + insideWrapper);

     //insideWrapper.css("height", "100px");

    $(".container-outer").css("height", "2200px"); //Changing the outer wrapper height to control scrolling


    var tMx = TweenMax;
    var easeSine = Sine.easeOut;

    /*-----===| Individual Image Placements |===-----
     Trying to find a way to layer the images
     |====================---------*/
    var img1 = document.getElementById("img1");
    var img2 = document.getElementById("img2");

    var winWidth = $(window).width(); //Viewport Width
    console.log("winWidth: " + winWidth);
    /*var img1 = $("#img1");
    img1.css({"position": "fixed", "width": "10%", "height": "auto", "left": "0px", "z-index": "10"});*/
    //$("#img1").css({"position": "fixed", "width": "400px", "height": "auto", "left": "0px", "z-index": "10"});
    //img1.setAttribute("style", "position:fixed; width:10%; zIndex:40;")
    /*$("#iframe_div1").css("z-index", "40");*/
    //$("#img1").css("z-index", "10");

    //var img1 = $("#img1");
    tMx.to(img1, 0, {css:{ position:"fixed", x : 0, y : 0, width:"100%", height:"auto", zIndex : 1}});
    tMx.to(img2, 0, {css:{ position:"fixed", x : 100, y : 10, width:"25%", height:"auto", zIndex : 2}});

    //$("#img2").css({"position": "fixed", "width": "10%", "height": "auto", "left": "200px", "z-index": "2"});
    $("#img3").css({"position": "fixed", "width": "10%", "height": "auto", "left": "350px", "z-index": "3"});

    var i=0;
    var animTym = 1.5;
    var xPos = 10;

   // var thisWidth = calculate width
    function changeLayer(){
      i++;
      //console.log("changeLayer(): ", this, i);
      /*this.setAttribute("style", "zIndex:4+i;")*/
      //this.css({"left": "0px", "top": "0px"});
      tMx.to(this, animTym, {css:{ position:"fixed", width:"50%", height:"auto", zIndex : 4+i}});
      //console.log("this.css.width: 25%: ",this.css("width": "25%"));
      console.log("this.width: ",this, this.width, (4+i));

      /*if(this.width == thisWidth){
        animTym = 0;
        console.log("animTym: ",animTym);
      }*/
      /*if ((this).css('width') === '25%') {
        animTym = 0;
        console.log("animTym: ",animTym);
      }*/

      //this.css({"position": "fixed", "width": "10%", "height": "auto", "left": "0px", "z-index": "40"});
      //this.setAttribute("style", "position:fixed; width:400px; height:auto, left:100px; zIndex:40;")
      /*"background-color:blue;")*/
      //elem.css({"position": "fixed", "width": "400px", "height": "auto", "left": "0px", "z-index": "40"});
    }
    /*img1.addEventListener('mouseover', function(){
      tMx.to(this, animTym, {css:{ position:"fixed", x : 30, y : 10, width:"30%"}});
    }, false);*/


    img1.addEventListener('mouseover', changeLayer, false);
    img2.addEventListener('mouseover', changeLayer, false);

    /*img2.addEventListener('mouseover', changeLayer(50), false);
    img3.addEventListener('mouseover', changeLayer(100), false);*/

    /*function() {
      foo('bar');
    },*/


    /*-----===| Parallax |===-----
     Function for the window.addEventListener('scroll'...)
     The functionality is triggered through an if()... statement based on scrollTop().

    |====================---------*/
    var scrollAmount;
    var scrollWindow;
    var scrollTym = 1.5

    var insideWrapperHt = insideWrapper.height();
    //console.log("insideWrapperHt: " + insideWrapperHt);
    var insideWrapperXPos = insideWrapper.position().left;
    //console.log("insideWrapperXPos: " + insideWrapperXPos);
    var winHeight = $(window).height(); //Viewport Height
    //console.log("winHeight: " + winHeight);

    function parallax(){
      var insideWrapper_winHeight = (insideWrapperHt/winHeight) *.5;
      //console.log("insideWrapper_winHeight: " + insideWrapper_winHeight);
      scrollWindow = $(window).scrollTop();
      // scrollAmount = Math.round($(window).scrollTop() /containerHt_winHeight); //*.1;
      scrollAmount = Math.round(scrollWindow/insideWrapper_winHeight);
      //console.log("scrollAmount: " + scrollAmount);

      insideWrapperXPos = insideWrapper.position().left;
      tMx.to(insideWrapper, scrollTym, {css:{ position: "fixed", left : -(scrollAmount *5), zIndex : 20}, ease:easeSine});
      //console.log("insideWrapperXPos: " + insideWrapperXPos);
    };

    window.addEventListener('scroll', parallax);

  /*});*/
  }());

</script>
</body>
</html>
